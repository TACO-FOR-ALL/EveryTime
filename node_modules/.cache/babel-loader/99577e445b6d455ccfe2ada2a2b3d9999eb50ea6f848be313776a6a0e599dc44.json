{"ast":null,"code":"var _jsxFileName = \"/Users/kjhkjh827/EveryTime/src/ConfirmEmail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './css/LoginForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ConfirmEmail() {\n  _s();\n  const [organizations, setOrganizations] = useState([]);\n  const [selectedOrgId, setSelectedOrgId] = useState('');\n  const [emailSuffix, setEmailSuffix] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch('/users/organization/list').then(response => response.json()).then(data => {\n      if (data.status === 0) {\n        setOrganizations(data.organizations);\n      } else {\n        setError(data.error_msg || \"Failed to fetch organizations.\");\n      }\n    }).catch(() => setError(\"Network error, please try again later.\"));\n  }, []);\n  const handleOrgSelect = event => {\n    const selectedId = event.target.value;\n    setSelectedOrgId(selectedId);\n    const selectedOrg = organizations.find(org => org.id === selectedId);\n    setEmailSuffix(selectedOrg ? `@${selectedOrg.emailSuffix}` : '');\n  };\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (!email || !emailSuffix) {\n      setError(\"Please complete the email fields correctly.\");\n      return;\n    }\n    const fullEmail = email + emailSuffix;\n    // Proceed to authenticate\n    navigate('/Authentication', {\n      state: {\n        fullEmail,\n        orgId: selectedOrgId\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Everytime\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subtitle\",\n        children: \"for Foreign\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center',\n          margin: '10px 0'\n        },\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uC744 \\uC9C4\\uD589\\uD574\\uC8FC\\uC138\\uC694!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          margin: '10px 0'\n        },\n        children: \"\\uD559\\uAD50 \\uC774\\uBA54\\uC77C\\uC744 \\uD1B5\\uD574\\uC11C \\uD68C\\uC6D0\\uAC00\\uC785\\uC744 \\uD558\\uC2E4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleOrgSelect,\n        value: selectedOrgId,\n        className: \"login-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\uD559\\uAD50/\\uB2E8\\uCCB4\\uB9AC\\uC2A4\\uD2B8\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), organizations.map(org => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: org.id,\n          children: [org.name, \" (\", org.region, \")\"]\n        }, org.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"login-input\",\n          placeholder: \"Enter your email\",\n          value: email,\n          onChange: handleEmailChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: emailSuffix\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"login-button\",\n        children: \"\\uC778\\uC99D\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer-links\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/inquiry\",\n        className: \"auth-link\",\n        children: \"\\uBB38\\uC758\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/privacy-policy\",\n        className: \"auth-link\",\n        children: \"\\uAC1C\\uC778\\uC815\\uBCF4 \\uCC98\\uB9AC\\uBC29\\uCE68\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/terms-and-conditions\",\n        className: \"auth-link\",\n        children: \"\\uC774\\uC6A9\\uC57D\\uAD00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(ConfirmEmail, \"wp0Hd5VGLh2/nOct6QqyHoM3yEk=\", false, function () {\n  return [useNavigate];\n});\n_c = ConfirmEmail;\nexport default ConfirmEmail;\nvar _c;\n$RefreshReg$(_c, \"ConfirmEmail\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","ConfirmEmail","_s","organizations","setOrganizations","selectedOrgId","setSelectedOrgId","emailSuffix","setEmailSuffix","email","setEmail","error","setError","navigate","fetch","then","response","json","data","status","error_msg","catch","handleOrgSelect","event","selectedId","target","value","selectedOrg","find","org","id","handleEmailChange","handleSubmit","preventDefault","fullEmail","state","orgId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","margin","onSubmit","onChange","map","name","region","type","placeholder","required","href","_c","$RefreshReg$"],"sources":["/Users/kjhkjh827/EveryTime/src/ConfirmEmail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './css/LoginForm.css'; \n\nfunction ConfirmEmail() {\n    const [organizations, setOrganizations] = useState([]);\n    const [selectedOrgId, setSelectedOrgId] = useState('');\n    const [emailSuffix, setEmailSuffix] = useState('');\n    const [email, setEmail] = useState('');\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        fetch('/users/organization/list')\n            .then(response => response.json())\n            .then(data => {\n                if(data.status === 0) {\n                    setOrganizations(data.organizations);\n                } else {\n                    setError(data.error_msg || \"Failed to fetch organizations.\");\n                }\n            })\n            .catch(() => setError(\"Network error, please try again later.\"));\n    }, []);\n\n    const handleOrgSelect = (event) => {\n        const selectedId = event.target.value;\n        setSelectedOrgId(selectedId);\n        const selectedOrg = organizations.find(org => org.id === selectedId);\n        setEmailSuffix(selectedOrg ? `@${selectedOrg.emailSuffix}` : '');\n    };\n\n    const handleEmailChange = (event) => {\n        setEmail(event.target.value);\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        if (!email || !emailSuffix) {\n            setError(\"Please complete the email fields correctly.\");\n            return;\n        }\n        const fullEmail = email + emailSuffix;\n        // Proceed to authenticate\n        navigate('/Authentication', { state: { fullEmail, orgId: selectedOrgId } });\n    };\n\n    return (\n        <div className=\"login-container\">\n            <div className=\"title-container\">\n                <h1 className=\"title\">Everytime</h1>\n                <p className=\"subtitle\">for Foreign</p>\n            </div>\n            <div>\n                <h3 style={{ textAlign: 'center', margin: '10px 0' }}>회원가입을 진행해주세요!</h3>\n                <h5 style={{ margin: '10px 0' }}>학교 이메일을 통해서 회원가입을 하실 수 있습니다!</h5>\n            </div>\n            {error && <p className=\"error-message\">{error}</p>}\n            <form onSubmit={handleSubmit} className=\"login-form\">\n                <select onChange={handleOrgSelect} value={selectedOrgId} className=\"login-input\">\n                    <option value=\"\">학교/단체리스트를 선택해주세요!</option>\n                    {organizations.map((org) => (\n                        <option key={org.id} value={org.id}>{org.name} ({org.region})</option>\n                    ))}\n                </select>\n                <div className=\"email-inputs\">\n                    <input\n                        type=\"text\"\n                        className=\"login-input\"\n                        placeholder=\"Enter your email\"\n                        value={email}\n                        onChange={handleEmailChange}\n                        required\n                    />\n                    <span>{emailSuffix}</span>\n                </div>\n                <button type=\"submit\" className=\"login-button\">인증하기</button>\n            </form>\n            <div className=\"footer-links\">\n                <a href=\"/inquiry\" className=\"auth-link\">문의하기</a>\n                <a href=\"/privacy-policy\" className=\"auth-link\">개인정보 처리방침</a>\n                <a href=\"/terms-and-conditions\" className=\"auth-link\">이용약관</a>\n            </div>\n        </div>\n    );\n}\n\nexport default ConfirmEmail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}